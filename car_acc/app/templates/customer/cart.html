<!DOCTYPE html>
{% load static %}
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>home</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'app/css/customer/cart.css' %}">
<body>

  {% include 'navbar.html' %}
  <div class="cart_customer">
    <div class="container_cart">
        <h1>Your Shopping Cart</h1>
        <form method="POST" action="{% url 'cart' %}">
            {% csrf_token %}
            <div class="cart-items">
                {% for product in product_data %}
                    <!-- Cart Item -->
                    <div class="cart-item">
                        <input type="hidden" name="product_id" value="{{ product.product_id }}">
                        <div class="item-image">
                            <img src="{{ product.product.product_image.url }}" alt="Product Image">
                        </div>
                        <div class="item-details">
                            <h2>{{ product.product.product_name }}</h2>
                            <p>{{ product.product.product_description }}</p>
                            <p class="price">Price: Rs. {{ product.product.product_price }}</p>
                        </div>
                        <div class="item-quantity">
                            <label for="quantity_{{ product.product_id }}">Quantity:</label>
                            <select id="quantity_{{ product.product_id }}" name="quantity_{{ product.product_id }}">
                                {% for i in quantity_range %}
                                        {% if product.quantity == i %}
                                            <option value="{{ i }}" selected>{{ i }}</option>
                                        {% else %}
                                            <option value="{{ i }}">{{ i }}</option>
                                        {% endif %}
                                {% endfor %}
                            </select>
                        </div>
                        <div class="item-actions">
                            <button class="btn" id="remove-btn"><a href="{% url 'remove_cart' product.id %}" style="text-decoration: none; color: whitesmoke">Remove</a></button>
                        </div>
                    </div>
                {% endfor %}
            </div>
            <div class="cart-total">
                <p>Total: Rs. {{ total_price }}</p>
            </div>
            <button class="btn" id="checkout-btn"><a href="{% url 'home' %}" style="text-decoration: none; color: whitesmoke">Back</a></button>
            <button type="submit" class="btn" id="checkout-btn">Proceed</button>
        </form>
    </div>
</div>
{% include 'footer.html' %}
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
        integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
        crossorigin="anonymous"></script>
    <script src="{% static 'app/js/all.min.js' %}"></script>
</body>